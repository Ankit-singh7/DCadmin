function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{eTk3:function(e,t,c){"use strict";c.r(t);var n=c("ofXK"),i=c("tyNb"),o=c("PSD3"),r=c.n(o),a=c("fXoL"),l=c("pVIR"),d=c("AXIP"),s=c("3Pt+"),u=c("oOf3"),g=["closeEditModal"],b=["closeAddModal"];function f(e,t){if(1&e&&(a.cc(0,"tr"),a.cc(1,"td"),a.cc(2,"B"),a.Mc(3),a.pc(4,"titlecase"),a.bc(),a.bc(),a.cc(5,"td"),a.Mc(6),a.bc(),a.cc(7,"td"),a.Mc(8),a.bc(),a.cc(9,"td"),a.Mc(10),a.bc(),a.cc(11,"td"),a.Mc(12),a.pc(13,"date"),a.bc(),a.bc()),2&e){var c=t.$implicit;a.Jb(3),a.Nc(a.qc(4,5,c.ingredient)),a.Jb(3),a.Nc(c.category),a.Jb(2),a.Nc(c.unit),a.Jb(2),a.Nc(c.quantity),a.Jb(2),a.Nc(a.rc(13,7,c.createdOn,"MMM d, y, h:mm:ss a"))}}var h=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function p(e,t){if(1&e&&(a.cc(0,"tbody"),a.Kc(1,f,14,10,"tr",32),a.pc(2,"paginate"),a.bc()),2&e){var c=a.oc();a.Jb(1),a.vc("ngForOf",a.rc(2,1,c.stockInList,a.Ac(4,h,c.selectedPerPage,c.currentpage,c.total)))}}function v(e,t){if(1&e&&(a.cc(0,"tbody"),a.cc(1,"tr"),a.cc(2,"td",36),a.Mc(3),a.bc(),a.bc(),a.bc()),2&e){var c=a.oc();a.Jb(3),a.Nc(c.response)}}function m(e,t){if(1&e&&(a.ac(0),a.cc(1,"option",37),a.Mc(2),a.bc(),a.Zb()),2&e){var c=t.$implicit;a.Jb(1),a.vc("ngValue",c),a.Jb(1),a.Nc(c.name)}}var k,I,y=[{path:"",component:(k=function(){function e(t,c,n,i){var o=this;_classCallCheck(this,e),this.router=t,this.stockService=c,this.route=n,this.ui=i,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.ingredientList=[],this.mainIngrdientList=[],this.unitList=[],this.categoryList=[],this.stockInList=[],this.selectedPerPage=10,this.currentpage=1,this.getAllUnit=function(){o.stockService.getUnitList().subscribe((function(e){e.data&&(o.unitList=e.data)}),(function(e){console.log(e)}))},this.getAllCategory=function(){o.stockService.getIngredientCategoryList(500,1).subscribe((function(e){e.data&&(o.categoryList=e.data.result)}),(function(e){console.log(e)}))},this.getIngredientList=function(){o.stockService.getIngredientList(500,1).subscribe((function(e){e.data&&(o.ingredientList=e.data.result,o.mainIngrdientList=e.data.result)}),(function(e){console.log(e)}))},this.getStockInList=function(e){o.ui.loader.show(),e&&(o.currentpage=e),o.stockService.showStockInList(o.selectedPerPage,o.currentpage).subscribe((function(e){e.data&&(o.stockInList=e.data.result,o.total=e.data.total),o.ui.loader.hide()}),(function(e){return o.ui.loader.hide()}))},this.onLimitSelect=function(e){o.selectedPerPage=e,o.getStockInList()},this.getIngredientDetail=function(e){o.stockService.getSingleFoodIngredient(e).subscribe((function(e){e.data&&(o.detail=e.data,console.log(o.detail))}))},this.deleteIngredient=function(e,t){r.a.fire({title:"Do you want to delete this Ingredient?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then((function(c){c.isConfirmed&&(o.ui.loader.show(),o.stockService.deleteFoodIngredient(t).subscribe((function(t){r.a.fire({icon:"success",title:"Ingredient Deleted Successfully",showConfirmButton:!1,timer:1500}),o.stockInList.splice(e,1),o.ui.loader.hide()}),(function(e){return o.ui.loader.hide()})))}))},this.addIngredient=function(){o.ui.loader.show(),o.stockService.addStockIn({category_id:o.selectedIngredient.category_id,unit_id:o.selectedIngredient.unit_id,ingredient_id:o.selectedIngredient.ingredient_id,quantity:o.quantity}).subscribe((function(e){o.closeAddModal.nativeElement.click(),o.quantity="",o.selectedUnit="",o.selectedCategory="",o.selectedIngredient="",r.a.fire({icon:"success",title:"Stock Data Added Successfully",showConfirmButton:!1,timer:1500}),o.getStockInList(),o.ui.loader.hide()}),(function(e){return o.ui.loader.hide()}))},this.editIngredient=function(e){o.ui.loader.show(),delete o.detail.validationToken,delete o.detail.createdOn,o.stockService.updateFoodIngredient(e,o.detail).subscribe((function(e){o.closeEditModal.nativeElement.click(),o.detail={},o.ui.loader.hide(),o.getStockInList()}),(function(e){o.ui.loader.hide()}))},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),o.router.navigate(["/login"])}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getStockInList(),this.getIngredientList(),this.getAllCategory(),this.getAllUnit()}},{key:"changeOrder",value:function(e){var t=this;this.sortOrder=!this.sortOrder,this.field=e,this.stockInList.sort((function(c,n){return t.sortOrder?n[e].localeCompare(c[e]):c[e].localeCompare(n[e])}))}},{key:"getSelectedIngredient",value:function(e){console.log(e)}},{key:"getSelectedUnit",value:function(e){console.log(e)}},{key:"editStatus",value:function(e){this.detail.status=e,console.log(this.status)}}]),e}(),k.\u0275fac=function(e){return new(e||k)(a.Wb(i.e),a.Wb(l.a),a.Wb(i.a),a.Wb(d.a))},k.\u0275cmp=a.Qb({type:k,selectors:[["app-stock-in"]],viewQuery:function(e,t){var c;1&e&&(a.Rc(g,!0),a.Rc(b,!0)),2&e&&(a.Cc(c=a.lc())&&(t.closeEditModal=c.first),a.Cc(c=a.lc())&&(t.closeAddModal=c.first))},decls:60,vars:11,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"offset-md-10","col-sm-12","col-md-2"],[1,"form-group"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeAddModal",""],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"col-sm-11"],[1,"form-group","position-relative"],[1,"input-group"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","ig","required","",1,"custom-select",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","text","placeholder","Quantity","name","quantName","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["colspan","100%",1,"text-center"],[3,"ngValue"]],template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.cc(2,"div",2),a.cc(3,"div",3),a.Mc(4," SELECT PER PAGE "),a.cc(5,"select",4),a.kc("ngModelChange",(function(e){return t.selectedPerPage=e}))("change",(function(e){return t.onLimitSelect(e.target.value)})),a.cc(6,"option",5),a.Mc(7,"10"),a.bc(),a.cc(8,"option",6),a.Mc(9,"25"),a.bc(),a.cc(10,"option",7),a.Mc(11,"50"),a.bc(),a.cc(12,"option",8),a.Mc(13,"100"),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(14,"div",9),a.cc(15,"div",10),a.cc(16,"table",11),a.cc(17,"thead"),a.cc(18,"tr"),a.cc(19,"th",12),a.Mc(20,"Ingredients Name"),a.cc(21,"a",13),a.kc("click",(function(){return t.changeOrder("ingredient")})),a.Xb(22,"i",14),a.bc(),a.bc(),a.cc(23,"th",12),a.Mc(24,"Category"),a.bc(),a.cc(25,"th",12),a.Mc(26,"Unit"),a.bc(),a.cc(27,"th",12),a.Mc(28,"Quantity"),a.bc(),a.cc(29,"th",12),a.Mc(30,"Date"),a.bc(),a.bc(),a.bc(),a.Kc(31,p,3,8,"tbody",15),a.Kc(32,v,4,1,"ng-template",null,16,a.Lc),a.bc(),a.cc(34,"pagination-controls",17),a.kc("pageChange",(function(e){return t.getStockInList(e)})),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(35,"div",18,19),a.cc(37,"div",20),a.cc(38,"div",21),a.cc(39,"form",22,23),a.cc(41,"div",24),a.cc(42,"div",25),a.cc(43,"h5"),a.Mc(44,"Add Stock"),a.bc(),a.bc(),a.cc(45,"div",26),a.cc(46,"div",27),a.cc(47,"div",28),a.cc(48,"div",29),a.cc(49,"label",30),a.Mc(50,"Select Ingredient"),a.bc(),a.bc(),a.cc(51,"select",31),a.kc("ngModelChange",(function(e){return t.selectedIngredient=e}))("ngModelChange",(function(e){return t.getSelectedIngredient(e)})),a.Kc(52,m,3,2,"ng-container",32),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(53,"div",26),a.cc(54,"div",27),a.cc(55,"input",33),a.kc("ngModelChange",(function(e){return t.quantity=e})),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(56,"div",24),a.cc(57,"div",34),a.cc(58,"button",35),a.kc("click",(function(){return t.addIngredient()})),a.Mc(59,"SUBMIT"),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.bc()),2&e){var c=a.Dc(33),n=a.Dc(40);a.Jb(5),a.vc("ngModel",t.selectedPerPage),a.Jb(17),a.Nb("fa-caret-down",!t.sortOrder)("fa-caret-up",t.sortOrder),a.Jb(9),a.vc("ngIf",null==t.stockInList?null:t.stockInList.length)("ngIfElse",c),a.Jb(20),a.vc("ngModel",t.selectedIngredient),a.Jb(1),a.vc("ngForOf",t.ingredientList),a.Jb(3),a.vc("ngModel",t.quantity),a.Jb(3),a.vc("disabled",!n.valid)}},directives:[s.s,s.j,s.m,s.n,s.u,n.l,u.c,s.v,s.k,s.l,s.r,n.k,s.b],pipes:[u.b,n.r,n.d],styles:[""]}),k)}],M=((I=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:I}),I.\u0275inj=a.Tb({factory:function(e){return new(e||I)},imports:[[i.i.forChild(y)],i.i]}),I),S=c("wloI");c.d(t,"StockInModule",(function(){return L}));var C,L=((C=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:C}),C.\u0275inj=a.Tb({factory:function(e){return new(e||C)},imports:[[n.b,M,S.a,u.a,s.f]]}),C)}}]);