(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"85zB":function(t,i,e){"use strict";e.r(i);var n=e("ofXK"),o=e("tyNb"),d=e("PSD3"),c=e.n(d),a=e("fXoL"),l=e("pVIR"),b=e("AXIP"),r=e("3Pt+");const s=["closeEditModal3"],u=["closeAddModal"];function h(t,i){if(1&t){const t=a.Vb();a.Ub(0,"tr"),a.Ub(1,"td"),a.Ub(2,"B"),a.Ec(3),a.Tb(),a.Tb(),a.Ub(4,"td"),a.Ub(5,"button",29),a.cc("click",(function(){a.xc(t);const e=i.$implicit;return a.gc(2).getUnitDetail(e.unit_id)})),a.Pb(6,"i",30),a.Tb(),a.Ub(7,"button",31),a.cc("click",(function(){a.xc(t);const e=i.index,n=i.$implicit;return a.gc(2).deleteUnit(e,n.unit_id)})),a.Pb(8,"i",32),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=i.$implicit;a.Bb(3),a.Fc(t.name)}}function f(t,i){if(1&t&&(a.Ub(0,"tbody"),a.Cc(1,h,9,1,"tr",28),a.Tb()),2&t){const t=a.gc();a.Bb(1),a.nc("ngForOf",t.unitList)}}function m(t,i){if(1&t&&(a.Ub(0,"tbody"),a.Ub(1,"tr"),a.Ub(2,"td",33),a.Ec(3),a.Tb(),a.Tb(),a.Tb()),2&t){const t=a.gc();a.Bb(3),a.Fc(t.response)}}function U(t,i){if(1&t){const t=a.Vb();a.Ub(0,"form",34,35),a.Ub(2,"div",19),a.Ub(3,"div",20),a.Ub(4,"h5"),a.Ec(5,"Edit Unit Detail"),a.Tb(),a.Tb(),a.Ub(6,"div",5),a.Ub(7,"div",21),a.Ub(8,"input",36),a.cc("ngModelChange",(function(i){return a.xc(t),a.gc().detail.name=i})),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(9,"div",19),a.Ub(10,"div",23),a.Ub(11,"button",24),a.cc("click",(function(){a.xc(t);const i=a.gc();return i.editUnit(i.detail.unit_id)})),a.Ec(12,"EDIT"),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=a.vc(1),i=a.gc();a.Bb(8),a.nc("ngModel",i.detail.name),a.Bb(3),a.nc("disabled",!t.valid)}}const g=[{path:"",component:(()=>{class t{constructor(t,i,e){this.router=t,this.foodService=i,this.ui=e,this.unitList=[],this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.getAllUnit=()=>{this.ui.loader.show(),this.foodService.getUnitList().subscribe(t=>{t.data&&(this.unitList=t.data),this.ui.loader.hide()},t=>this.ui.loader.hide())},this.getUnitDetail=t=>{this.foodService.getSingleUnit(t).subscribe(t=>{t.data&&(this.detail=t.data)})},this.deleteUnit=(t,i)=>{c.a.fire({title:"Do you want to delete this Unit?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(e=>{e.isConfirmed&&(this.ui.loader.show(),this.foodService.deleteUnit(i).subscribe(i=>{c.a.fire({icon:"success",title:"Unit Deleted Successfully",showConfirmButton:!1,timer:1500}),this.unitList.splice(t,1),this.ui.loader.hide()},t=>this.ui.loader.hide()))})},this.addUnit=()=>{this.ui.loader.show();const t={name:this.unitName};this.unitList.push(t),this.foodService.createUnit(t).subscribe(t=>{this.unitName="",this.closeAddModal.nativeElement.click(),c.a.fire({icon:"success",title:"Unit Created Successfully",showConfirmButton:!1,timer:1500}),this.getAllUnit(),this.ui.loader.hide()},t=>this.ui.loader.hide())},this.editUnit=t=>{this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,delete this.detail.ingredient_category_id,this.foodService.updateUnit(t,this.detail).subscribe(t=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getAllUnit()},t=>{this.ui.loader.hide()})},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getAllUnit()}changeOrder(t){this.sortOrder=!this.sortOrder,this.field=t,this.unitList.sort((i,e)=>this.sortOrder?e[t].localeCompare(i[t]):i[t].localeCompare(e[t]))}}return t.\u0275fac=function(i){return new(i||t)(a.Ob(o.e),a.Ob(l.a),a.Ob(b.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-unit"]],viewQuery:function(t,i){var e;1&t&&(a.Jc(s,!0),a.Jc(u,!0)),2&t&&(a.uc(e=a.dc())&&(i.closeEditModal=e.first),a.uc(e=a.dc())&&(i.closeAddModal=e.first))},decls:43,vars:9,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-4"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeAddModal",""],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform3","role","form"],["subForm3","ngForm"],[1,"row"],[1,"col-12"],[1,"form-group","position-relative"],["type","text","placeholder","Unit Name","name","Cname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal3",""],["id","subform4","role","form",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],["id","subform4","role","form"],["subForm4","ngForm"],["type","text","placeholder","Unit Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"]],template:function(t,i){if(1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"button",4),a.Ub(5,"b"),a.Ec(6,"+ Add Unit"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(7,"div",5),a.Ub(8,"div",6),a.Ub(9,"table",7),a.Ub(10,"thead"),a.Ub(11,"tr"),a.Ub(12,"th",8),a.Ec(13,"Unit Name"),a.Ub(14,"a",9),a.cc("click",(function(){return i.changeOrder("name")})),a.Pb(15,"i",10),a.Tb(),a.Tb(),a.Ub(16,"th",8),a.Ec(17,"Action"),a.Tb(),a.Tb(),a.Tb(),a.Cc(18,f,2,1,"tbody",11),a.Cc(19,m,4,1,"ng-template",null,12,a.Dc),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(21,"div",13,14),a.Ub(23,"div",15),a.Ub(24,"div",16),a.Ub(25,"form",17,18),a.Ub(27,"div",19),a.Ub(28,"div",20),a.Ub(29,"h5"),a.Ec(30,"Add a Unit"),a.Tb(),a.Tb(),a.Ub(31,"div",5),a.Ub(32,"div",21),a.Ub(33,"input",22),a.cc("ngModelChange",(function(t){return i.unitName=t})),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(34,"div",19),a.Ub(35,"div",23),a.Ub(36,"button",24),a.cc("click",(function(){return i.addUnit()})),a.Ec(37,"SUBMIT"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(38,"div",25,26),a.Ub(40,"div",15),a.Ub(41,"div",16),a.Cc(42,U,13,2,"form",27),a.Tb(),a.Tb(),a.Tb()),2&t){const t=a.vc(20),e=a.vc(26);a.Bb(15),a.Fb("fa-caret-down",!i.sortOrder)("fa-caret-up",i.sortOrder),a.Bb(3),a.nc("ngIf",null==i.unitList?null:i.unitList.length)("ngIfElse",t),a.Bb(15),a.nc("ngModel",i.unitName),a.Bb(3),a.nc("disabled",!e.valid),a.Bb(6),a.nc("ngIf",i.detail)}},directives:[n.k,r.s,r.h,r.i,r.b,r.o,r.g,r.j,n.j],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(i){return new(i||t)},imports:[[o.i.forChild(g)],o.i]}),t})();e.d(i,"UnitModule",(function(){return p}));let p=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(i){return new(i||t)},imports:[[n.b,r.c,T]]}),t})()}}]);