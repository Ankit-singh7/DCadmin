(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"P+7w":function(e,o,t){"use strict";t.r(o);var r=t("ofXK"),i=t("3Pt+"),s=t("tyNb"),a=t("fXoL"),n=t("AXIP"),l=t("rwBg");function c(e,o){if(1&e&&(a.Ub(0,"div",25),a.Ub(1,"div",26),a.Ec(2),a.Tb(),a.Tb()),2&e){const e=a.gc();a.Bb(2),a.Gc(" ",e.message," ")}}const b=[{path:"",component:(()=>{class e{constructor(e,o,t,r){this.router=e,this.route=o,this.ui=t,this.userService=r,this.rememberMe="false",this.showPassword=!1,this.inputType="password",this.loginError=!1}ngOnInit(){this.remember()}login(){this.ui.loader.show(),this.userService.login({email:this.email,password:this.password}).subscribe(e=>{this.loginError=!1,localStorage.setItem("token",e.data.authToken),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("name",`${e.data.firstName} ${e.data.lastName}`),this.rememberMe?(localStorage.setItem("email",this.email),localStorage.setItem("password",this.password),localStorage.setItem("rememberMe",String(this.rememberMe))):(this.email="",this.password="",localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.setItem("rememberMe",String(this.rememberMe))),this.router.navigate(["/user/employee"]),this.ui.loader.hide()},e=>{this.ui.loader.hide(),this.loginError=!0,this.message=e.error.message})}remember(){"true"===localStorage.getItem("rememberMe")?(this.cookieRem=Boolean(localStorage.getItem("rememberMe")),this.cookiePass=localStorage.getItem("password"),this.cookieMail=localStorage.getItem("email"),this.router.navigate(["/login"])&&(this.rememberMe=this.cookieRem,this.email=this.cookieMail,this.password=this.cookiePass)):"false"===localStorage.getItem("rememberMe")&&(this.cookieRem=!1,this.email="",this.password="")}}return e.\u0275fac=function(o){return new(o||e)(a.Ob(s.e),a.Ob(s.a),a.Ob(n.a),a.Ob(l.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-login"]],decls:35,vars:5,consts:[[1,"container-fluid","position-relative",2,"height","100vh"],[1,"row"],[1,"login-box",2,"margin-top","7%"],[1,"col-xl-4","offset-xl-4","col-md-6","offset-md-3"],[1,"p-2"],[2,"text-align","center"],[1,"fas","fa-heart",2,"color","red"],[2,"color","red"],["id","loginForm","role","form"],["loginForm","ngForm"],["class","group animated fadeIn",4,"ngIf"],[1,"form-group","position-relative"],["type","text","placeholder","USERNAME","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"user-icon"],["type","password","placeholder","PASSWORD","name","password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"pass-icon"],[1,"form-group"],[1,"col"],[1,"chk-holder"],["type","checkbox","id","ossm","name","rememberMe",1,"chkmrk",3,"ngModel","ngModelChange"],["for","ossm",1,"text-uppercase"],[1,"checkmark"],["type","submit",1,"btn","btn-success","log-btn","w-100",3,"disabled","click"],[1,"clearfix"],[1,"col-lg-10","offset-lg-1","mt-5"],[1,"group","animated","fadeIn"],[1,"alert","alert-danger","text-center"]],template:function(e,o){if(1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Ub(5,"h2",5),a.Ub(6,"B"),a.Pb(7,"i",6),a.Ec(8,"\xa0"),a.Ub(9,"span",7),a.Ec(10,"DESI"),a.Tb(),a.Ec(11," CHINESE"),a.Tb(),a.Tb(),a.Ub(12,"form",8,9),a.Cc(14,c,3,1,"div",10),a.Ub(15,"div",11),a.Ub(16,"input",12),a.cc("ngModelChange",(function(e){return o.email=e})),a.Tb(),a.Pb(17,"span",13),a.Tb(),a.Ub(18,"div",11),a.Ub(19,"input",14),a.cc("ngModelChange",(function(e){return o.password=e})),a.Tb(),a.Pb(20,"span",15),a.Tb(),a.Ub(21,"div",16),a.Ub(22,"div",1),a.Ub(23,"div",17),a.Ub(24,"div",18),a.Ub(25,"input",19),a.cc("ngModelChange",(function(e){return o.rememberMe=e})),a.Tb(),a.Ub(26,"label",20),a.Ec(27,"Remember Me"),a.Tb(),a.Pb(28,"span",21),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(29,"div",16),a.Ub(30,"button",22),a.cc("click",(function(){return o.login()})),a.Ec(31,"Login"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(32,"div",23),a.Pb(33,"div",24),a.Tb(),a.Tb(),a.Pb(34,"div",23),a.Tb()),2&e){const e=a.vc(13);a.Bb(14),a.nc("ngIf",o.loginError),a.Bb(2),a.nc("ngModel",o.email),a.Bb(3),a.nc("ngModel",o.password),a.Bb(6),a.nc("ngModel",o.rememberMe),a.Bb(5),a.nc("disabled",!e.valid)}},directives:[i.s,i.h,i.i,r.k,i.b,i.m,i.o,i.g,i.j,i.a],styles:[""]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(o){return new(o||e)},imports:[[s.i.forChild(b)],s.i]}),e})();t.d(o,"LoginModule",(function(){return d}));let d=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(o){return new(o||e)},providers:[l.a],imports:[[r.b,m,i.c]]}),e})()}}]);