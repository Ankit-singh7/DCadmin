(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{KmPD:function(t,e,c){"use strict";c.r(e);var i=c("ofXK"),n=c("tyNb"),o=c("PSD3"),s=c.n(o),r=c("fXoL"),d=c("pVIR"),a=c("AXIP"),l=c("3Pt+"),u=c("oOf3");const g=["closeEditModal"],h=["closeAddModal"];function b(t,e){if(1&t&&(r.cc(0,"tr"),r.cc(1,"td"),r.cc(2,"B"),r.Mc(3),r.pc(4,"titlecase"),r.bc(),r.bc(),r.cc(5,"td"),r.Mc(6),r.bc(),r.cc(7,"td"),r.Mc(8),r.bc(),r.cc(9,"td"),r.Mc(10),r.bc(),r.cc(11,"td"),r.Mc(12),r.pc(13,"date"),r.bc(),r.bc()),2&t){const t=e.$implicit;r.Jb(3),r.Nc(r.qc(4,5,t.ingredient)),r.Jb(3),r.Nc(t.category),r.Jb(2),r.Nc(t.unit),r.Jb(2),r.Nc(t.quantity),r.Jb(2),r.Nc(r.rc(13,7,t.createdOn,"MMM d, y, h:mm:ss a"))}}const p=function(t,e,c){return{itemsPerPage:t,currentPage:e,totalItems:c}};function f(t,e){if(1&t&&(r.cc(0,"tbody"),r.Kc(1,b,14,10,"tr",32),r.pc(2,"paginate"),r.bc()),2&t){const t=r.oc();r.Jb(1),r.vc("ngForOf",r.rc(2,1,t.stockOutList,r.Ac(4,p,t.selectedPerPage,t.currentpage,t.total)))}}function m(t,e){if(1&t&&(r.cc(0,"tbody"),r.cc(1,"tr"),r.cc(2,"td",36),r.Mc(3),r.bc(),r.bc(),r.bc()),2&t){const t=r.oc();r.Jb(3),r.Nc(t.response)}}function v(t,e){if(1&t&&(r.ac(0),r.cc(1,"option",37),r.Mc(2),r.bc(),r.Zb()),2&t){const t=e.$implicit;r.Jb(1),r.vc("ngValue",t),r.Jb(1),r.Nc(t.name)}}const k=[{path:"",component:(()=>{class t{constructor(t,e,c,i){this.router=t,this.stockService=e,this.route=c,this.ui=i,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.ingredientList=[],this.mainIngrdientList=[],this.unitList=[],this.categoryList=[],this.stockOutList=[],this.selectedPerPage=10,this.currentpage=1,this.getAllUnit=()=>{this.stockService.getUnitList().subscribe(t=>{t.data&&(this.unitList=t.data)},t=>{console.log(t)})},this.getAllCategory=()=>{this.stockService.getIngredientCategoryList(500,1).subscribe(t=>{t.data&&(this.categoryList=t.data.result)},t=>{console.log(t)})},this.getIngredientList=()=>{this.stockService.getIngredientList(500,1).subscribe(t=>{t.data&&(this.ingredientList=t.data.result,this.mainIngrdientList=t.data.result)},t=>{console.log(t)})},this.getStockOutList=t=>{this.ui.loader.show(),t&&(this.currentpage=t),this.stockService.showStockOutList(this.selectedPerPage,this.currentpage).subscribe(t=>{t.data&&(this.stockOutList=t.data.result,this.total=t.data.total),this.ui.loader.hide()},t=>this.ui.loader.hide())},this.onLimitSelect=t=>{this.selectedPerPage=t,this.getStockOutList()},this.getIngredientDetail=t=>{this.stockService.getSingleFoodIngredient(t).subscribe(t=>{t.data&&(this.detail=t.data,console.log(this.detail))})},this.deleteIngredient=(t,e)=>{s.a.fire({title:"Do you want to delete this Ingredient?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(c=>{c.isConfirmed&&(this.ui.loader.show(),this.stockService.deleteFoodIngredient(e).subscribe(e=>{s.a.fire({icon:"success",title:"Ingredient Deleted Successfully",showConfirmButton:!1,timer:1500}),this.stockOutList.splice(t,1),this.ui.loader.hide()},t=>this.ui.loader.hide()))})},this.addIngredient=()=>{this.ui.loader.show(),this.stockService.addStockOut({category_id:this.selectedIngredient.category_id,unit_id:this.selectedIngredient.unit_id,ingredient_id:this.selectedIngredient.ingredient_id,quantity:this.quantity}).subscribe(t=>{this.closeAddModal.nativeElement.click(),this.quantity="",this.selectedUnit="",this.selectedCategory="",this.selectedIngredient="",s.a.fire({icon:"success",title:"Stock Data Added Successfully",showConfirmButton:!1,timer:1500}),this.getStockOutList(),this.ui.loader.hide()},t=>this.ui.loader.hide())},this.editIngredient=t=>{this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.stockService.updateFoodIngredient(t,this.detail).subscribe(t=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getStockOutList()},t=>{this.ui.loader.hide()})},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getStockOutList(),this.getIngredientList(),this.getAllCategory(),this.getAllUnit()}changeOrder(t){this.sortOrder=!this.sortOrder,this.field=t,this.stockOutList.sort((e,c)=>this.sortOrder?c[t].localeCompare(e[t]):e[t].localeCompare(c[t]))}getSelectedIngredient(t){console.log(t)}getSelectedUnit(t){console.log(t)}editStatus(t){this.detail.status=t,console.log(this.status)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(n.e),r.Wb(d.a),r.Wb(n.a),r.Wb(a.a))},t.\u0275cmp=r.Qb({type:t,selectors:[["app-stock-out"]],viewQuery:function(t,e){var c;1&t&&(r.Rc(g,!0),r.Rc(h,!0)),2&t&&(r.Cc(c=r.lc())&&(e.closeEditModal=c.first),r.Cc(c=r.lc())&&(e.closeAddModal=c.first))},decls:60,vars:11,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"offset-md-10","col-sm-12","col-md-2"],[1,"form-group"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeAddModal",""],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"col-sm-11"],[1,"form-group","position-relative"],[1,"input-group"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","ig","required","",1,"custom-select",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["type","text","placeholder","Quantity","name","quantName","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["colspan","100%",1,"text-center"],[3,"ngValue"]],template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.cc(1,"div",1),r.cc(2,"div",2),r.cc(3,"div",3),r.Mc(4," SELECT PER PAGE "),r.cc(5,"select",4),r.kc("ngModelChange",(function(t){return e.selectedPerPage=t}))("change",(function(t){return e.onLimitSelect(t.target.value)})),r.cc(6,"option",5),r.Mc(7,"10"),r.bc(),r.cc(8,"option",6),r.Mc(9,"25"),r.bc(),r.cc(10,"option",7),r.Mc(11,"50"),r.bc(),r.cc(12,"option",8),r.Mc(13,"100"),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(14,"div",9),r.cc(15,"div",10),r.cc(16,"table",11),r.cc(17,"thead"),r.cc(18,"tr"),r.cc(19,"th",12),r.Mc(20,"Ingredients Name"),r.cc(21,"a",13),r.kc("click",(function(){return e.changeOrder("ingredient")})),r.Xb(22,"i",14),r.bc(),r.bc(),r.cc(23,"th",12),r.Mc(24,"Category"),r.bc(),r.cc(25,"th",12),r.Mc(26,"Unit"),r.bc(),r.cc(27,"th",12),r.Mc(28,"Quantity"),r.bc(),r.cc(29,"th",12),r.Mc(30,"Date"),r.bc(),r.bc(),r.bc(),r.Kc(31,f,3,8,"tbody",15),r.Kc(32,m,4,1,"ng-template",null,16,r.Lc),r.bc(),r.cc(34,"pagination-controls",17),r.kc("pageChange",(function(t){return e.getStockOutList(t)})),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(35,"div",18,19),r.cc(37,"div",20),r.cc(38,"div",21),r.cc(39,"form",22,23),r.cc(41,"div",24),r.cc(42,"div",25),r.cc(43,"h5"),r.Mc(44,"Add Stock"),r.bc(),r.bc(),r.cc(45,"div",26),r.cc(46,"div",27),r.cc(47,"div",28),r.cc(48,"div",29),r.cc(49,"label",30),r.Mc(50,"Select Ingredient"),r.bc(),r.bc(),r.cc(51,"select",31),r.kc("ngModelChange",(function(t){return e.selectedIngredient=t}))("ngModelChange",(function(t){return e.getSelectedIngredient(t)})),r.Kc(52,v,3,2,"ng-container",32),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(53,"div",26),r.cc(54,"div",27),r.cc(55,"input",33),r.kc("ngModelChange",(function(t){return e.quantity=t})),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(56,"div",24),r.cc(57,"div",34),r.cc(58,"button",35),r.kc("click",(function(){return e.addIngredient()})),r.Mc(59,"SUBMIT"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.Dc(33),c=r.Dc(40);r.Jb(5),r.vc("ngModel",e.selectedPerPage),r.Jb(17),r.Nb("fa-caret-down",!e.sortOrder)("fa-caret-up",e.sortOrder),r.Jb(9),r.vc("ngIf",null==e.stockOutList?null:e.stockOutList.length)("ngIfElse",t),r.Jb(20),r.vc("ngModel",e.selectedIngredient),r.Jb(1),r.vc("ngForOf",e.ingredientList),r.Jb(3),r.vc("ngModel",e.quantity),r.Jb(3),r.vc("disabled",!c.valid)}},directives:[l.q,l.h,l.k,l.l,l.s,i.l,u.c,l.t,l.i,l.j,l.p,i.k,l.b],pipes:[u.b,i.r,i.d],styles:[""]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(k)],n.i]}),t})();var S=c("wloI");c.d(e,"StockOutModule",(function(){return y}));let y=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[i.b,M,S.a,u.a,l.d]]}),t})()}}]);