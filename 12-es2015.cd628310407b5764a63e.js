(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{W68I:function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),d=i("tyNb"),o=i("PSD3"),c=i.n(o),b=i("fXoL"),r=i("pVIR"),s=i("AXIP"),l=i("3Pt+");const a=["closeEditModal"],g=["closeAddModal"];function u(e,t){if(1&e){const e=b.Vb();b.Ub(0,"tr"),b.Ub(1,"td"),b.Ub(2,"B"),b.Ec(3),b.hc(4,"titlecase"),b.Tb(),b.Tb(),b.Ub(5,"td"),b.Ec(6),b.Tb(),b.Ub(7,"td"),b.Ec(8),b.Tb(),b.Ub(9,"td"),b.Ec(10),b.Tb(),b.Ub(11,"td"),b.Ub(12,"button",36),b.cc("click",(function(){b.xc(e);const i=t.$implicit;return b.gc(2).getIngredientDetail(i.food_ingredient_id)})),b.Pb(13,"i",37),b.Tb(),b.Ub(14,"button",38),b.cc("click",(function(){b.xc(e);const i=t.index,n=t.$implicit;return b.gc(2).deleteIngredient(i,n.food_ingredient_id)})),b.Pb(15,"i",39),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=t.$implicit;b.Bb(3),b.Fc(b.ic(4,4,e.ingredient)),b.Bb(3),b.Fc(e.category),b.Bb(2),b.Fc(e.unit),b.Bb(2),b.Fc(e.quantity)}}function h(e,t){if(1&e&&(b.Ub(0,"tbody"),b.Cc(1,u,16,6,"tr",27),b.Tb()),2&e){const e=b.gc();b.Bb(1),b.nc("ngForOf",e.foodIngredientList)}}function f(e,t){if(1&e&&(b.Ub(0,"tbody"),b.Ub(1,"tr"),b.Ub(2,"td",40),b.Ec(3),b.Tb(),b.Tb(),b.Tb()),2&e){const e=b.gc();b.Bb(3),b.Fc(e.response)}}function U(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"option",41),b.Ec(2),b.Tb(),b.Rb()),2&e){const e=t.$implicit;b.Bb(1),b.nc("value",e.ingredient_category_id),b.Bb(1),b.Fc(e.name)}}function T(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"option",41),b.Ec(2),b.Tb(),b.Rb()),2&e){const e=t.$implicit;b.Bb(1),b.nc("value",e.ingredient_id),b.Bb(1),b.Fc(e.name)}}function m(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"option",42),b.Ec(2),b.Tb(),b.Rb()),2&e){const e=t.$implicit;b.Bb(1),b.nc("ngValue",e.unit_id),b.Bb(1),b.Fc(e.name)}}function p(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"option",49),b.Ec(2),b.Tb(),b.Rb()),2&e){const e=t.$implicit,i=b.gc(2);b.Bb(1),b.nc("value",e.ingredient_category_id)("selected",e.ingredient_category_id===i.detail.category_id),b.Bb(1),b.Fc(e.name)}}function v(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"option",49),b.Ec(2),b.Tb(),b.Rb()),2&e){const e=t.$implicit,i=b.gc(2);b.Bb(1),b.nc("value",e.ingredient_id)("selected",e.ingredient_id===i.detail.ingredient_id),b.Bb(1),b.Fc(e.name)}}function I(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"option",49),b.Ec(2),b.Tb(),b.Rb()),2&e){const e=t.$implicit,i=b.gc(2);b.Bb(1),b.nc("value",e.unit_id)("selected",e.unit_id===i.detail.unit_id),b.Bb(1),b.Fc(e.name)}}function y(e,t){if(1&e){const e=b.Vb();b.Ub(0,"form",43,44),b.Ub(2,"div",19),b.Ub(3,"div",20),b.Ub(4,"h5"),b.Ec(5,"Edit Ingredient Detail"),b.Tb(),b.Tb(),b.Ub(6,"div",21),b.Ub(7,"div",22),b.Ub(8,"div",23),b.Ub(9,"div",24),b.Ub(10,"label",25),b.Ec(11,"Select Category"),b.Tb(),b.Tb(),b.Ub(12,"select",45),b.cc("ngModelChange",(function(t){return b.xc(e),b.gc().detail.category_id=t})),b.Cc(13,p,3,3,"ng-container",27),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(14,"div",21),b.Ub(15,"div",22),b.Ub(16,"div",23),b.Ub(17,"div",24),b.Ub(18,"label",25),b.Ec(19,"Select Ingredient"),b.Tb(),b.Tb(),b.Ub(20,"select",46),b.cc("ngModelChange",(function(t){return b.xc(e),b.gc().detail.ingredient_id=t})),b.Cc(21,v,3,3,"ng-container",27),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(22,"div",21),b.Ub(23,"div",22),b.Ub(24,"div",23),b.Ub(25,"div",24),b.Ub(26,"label",25),b.Ec(27,"Select Unit"),b.Tb(),b.Tb(),b.Ub(28,"select",47),b.cc("ngModelChange",(function(t){return b.xc(e),b.gc().detail.unit_id=t})),b.Cc(29,I,3,3,"ng-container",27),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(30,"div",21),b.Ub(31,"div",22),b.Ub(32,"input",48),b.cc("ngModelChange",(function(t){return b.xc(e),b.gc().detail.quantity=t})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(33,"div",19),b.Ub(34,"div",31),b.Ub(35,"button",32),b.cc("click",(function(){b.xc(e);const t=b.gc();return t.editIngredient(t.detail.food_ingredient_id)})),b.Ec(36,"EDIT"),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.vc(1),t=b.gc();b.Bb(12),b.nc("ngModel",t.detail.category_id),b.Bb(1),b.nc("ngForOf",t.categoryList),b.Bb(7),b.nc("ngModel",t.detail.ingredient_id),b.Bb(1),b.nc("ngForOf",t.ingredientList),b.Bb(7),b.nc("ngModel",t.detail.unit_id),b.Bb(1),b.nc("ngForOf",t.unitList),b.Bb(3),b.nc("ngModel",t.detail.quantity),b.Bb(3),b.nc("disabled",!e.valid)}}const C=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.router=e,this.foodService=t,this.route=i,this.ui=n,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.ingredientList=[],this.mainIngrdientList=[],this.unitList=[],this.categoryList=[],this.foodIngredientList=[],this.getAllUnit=()=>{this.foodService.getUnitList().subscribe(e=>{e.data&&(this.unitList=e.data)},e=>{console.log(e)})},this.getAllCategory=()=>{this.foodService.getIngredientCategoryList().subscribe(e=>{e.data&&(this.categoryList=e.data)},e=>{console.log(e)})},this.getIngredientList=()=>{this.foodService.getIngredientList().subscribe(e=>{e.data&&(this.ingredientList=e.data,this.mainIngrdientList=e.data)},e=>{console.log(e)})},this.getFoodIngredientList=e=>{this.foodService.getFoodIngredientList(e).subscribe(e=>{e.data&&(this.foodIngredientList=e.data)},e=>{console.log(e)})},this.getIngredientDetail=e=>{this.foodService.getSingleFoodIngredient(e).subscribe(e=>{e.data&&(this.detail=e.data,console.log(this.detail))})},this.deleteIngredient=(e,t)=>{c.a.fire({title:"Do you want to delete this Ingredient?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(i=>{i.isConfirmed&&(this.ui.loader.show(),this.foodService.deleteFoodIngredient(t).subscribe(t=>{c.a.fire({icon:"success",title:"Ingredient Deleted Successfully",showConfirmButton:!1,timer:1500}),this.foodIngredientList.splice(e,1),this.ui.loader.hide()},e=>this.ui.loader.hide()))})},this.addIngredient=()=>{this.ui.loader.show(),this.foodService.createFoodIngredient({sub_category_id:this.subId,category_id:this.selectedCategory,unit_id:this.selectedUnit,ingredient_id:this.selectedIngredient,quantity:this.quantity}).subscribe(e=>{this.closeAddModal.nativeElement.click(),this.quantity="",this.selectedUnit="",this.selectedCategory="",this.selectedIngredient="",c.a.fire({icon:"success",title:"Ingredient Created Successfully",showConfirmButton:!1,timer:1500}),this.getFoodIngredientList(this.subId),this.ui.loader.hide()},e=>this.ui.loader.hide())},this.editIngredient=e=>{this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.foodService.updateFoodIngredient(e,this.detail).subscribe(e=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getFoodIngredientList(this.subId)},e=>{this.ui.loader.hide()})},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])},this.route.queryParams.subscribe(e=>{this.subId=e.id,this.getFoodIngredientList(this.subId)}),console.log(this.subId)}ngOnInit(){this.getIngredientList(),this.getAllCategory(),this.getAllUnit()}getselectedIngredient(){this.selectedCategory&&(console.log(this.selectedCategory),this.ingredientList=this.mainIngrdientList,this.ingredientList=this.ingredientList.filter(e=>e.category_id===this.selectedCategory))}changeOrder(e){this.sortOrder=!this.sortOrder,this.field=e,this.ingredientList.sort((t,i)=>this.sortOrder?i[e].localeCompare(t[e]):t[e].localeCompare(i[e]))}getSelectedCategory(e){console.log(e)}getSelectedUnit(e){console.log(e)}editStatus(e){this.detail.status=e,console.log(this.status)}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(d.e),b.Ob(r.a),b.Ob(d.a),b.Ob(s.a))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-food-ingredient"]],viewQuery:function(e,t){var i;1&e&&(b.Jc(a,!0),b.Jc(g,!0)),2&e&&(b.uc(i=b.dc())&&(t.closeEditModal=i.first),b.uc(i=b.dc())&&(t.closeAddModal=i.first))},decls:73,vars:15,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeAddModal",""],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"col-sm-11"],[1,"form-group","position-relative"],[1,"input-group"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","ic","required","",1,"custom-select",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],["placeholder","Choose Status","id","inputGroupSelect01","name","ig","required","",1,"custom-select",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","un","required","",1,"custom-select",3,"ngModel","ngModelChange"],["type","text","placeholder","Quantity","name","quantName","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],[3,"value"],[3,"ngValue"],["id","subform2","role","form"],["subForm2","ngForm"],["placeholder","Choose Status","id","inputGroupSelect01","name","ectt",1,"custom-select",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","ec",1,"custom-select",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","eu",1,"custom-select",3,"ngModel","ngModelChange"],["type","text","placeholder","Quantity","name","en","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[3,"value","selected"]],template:function(e,t){if(1&e&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Ub(2,"div",2),b.Ub(3,"div",3),b.Ub(4,"button",4),b.Ub(5,"b"),b.Ec(6,"+ Add Ingredient"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(7,"div",5),b.Ub(8,"div",6),b.Ub(9,"table",7),b.Ub(10,"thead"),b.Ub(11,"tr"),b.Ub(12,"th",8),b.Ec(13,"Ingredients Name"),b.Ub(14,"a",9),b.cc("click",(function(){return t.changeOrder("ingredient")})),b.Pb(15,"i",10),b.Tb(),b.Tb(),b.Ub(16,"th",8),b.Ec(17,"Category"),b.Tb(),b.Ub(18,"th",8),b.Ec(19,"Unit"),b.Tb(),b.Ub(20,"th",8),b.Ec(21,"Quantity"),b.Tb(),b.Ub(22,"th",8),b.Ec(23,"Action"),b.Tb(),b.Tb(),b.Tb(),b.Cc(24,h,2,1,"tbody",11),b.Cc(25,f,4,1,"ng-template",null,12,b.Dc),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(27,"div",13,14),b.Ub(29,"div",15),b.Ub(30,"div",16),b.Ub(31,"form",17,18),b.Ub(33,"div",19),b.Ub(34,"div",20),b.Ub(35,"h5"),b.Ec(36,"Add an Ingredient"),b.Tb(),b.Tb(),b.Ub(37,"div",21),b.Ub(38,"div",22),b.Ub(39,"div",23),b.Ub(40,"div",24),b.Ub(41,"label",25),b.Ec(42,"Select Category"),b.Tb(),b.Tb(),b.Ub(43,"select",26),b.cc("ngModelChange",(function(e){return t.selectedCategory=e}))("change",(function(){return t.getselectedIngredient()})),b.Cc(44,U,3,2,"ng-container",27),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(45,"div",21),b.Ub(46,"div",22),b.Ub(47,"div",23),b.Ub(48,"div",24),b.Ub(49,"label",25),b.Ec(50,"Select Ingredient"),b.Tb(),b.Tb(),b.Ub(51,"select",28),b.cc("ngModelChange",(function(e){return t.selectedIngredient=e})),b.Cc(52,T,3,2,"ng-container",27),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(53,"div",21),b.Ub(54,"div",22),b.Ub(55,"div",23),b.Ub(56,"div",24),b.Ub(57,"label",25),b.Ec(58,"Select Unit"),b.Tb(),b.Tb(),b.Ub(59,"select",29),b.cc("ngModelChange",(function(e){return t.selectedUnit=e})),b.Cc(60,m,3,2,"ng-container",27),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(61,"div",21),b.Ub(62,"div",22),b.Ub(63,"input",30),b.cc("ngModelChange",(function(e){return t.quantity=e})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(64,"div",19),b.Ub(65,"div",31),b.Ub(66,"button",32),b.cc("click",(function(){return t.addIngredient()})),b.Ec(67,"SUBMIT"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(68,"div",33,34),b.Ub(70,"div",15),b.Ub(71,"div",16),b.Cc(72,y,37,8,"form",35),b.Tb(),b.Tb(),b.Tb()),2&e){const e=b.vc(26),i=b.vc(32);b.Bb(15),b.Fb("fa-caret-down",!t.sortOrder)("fa-caret-up",t.sortOrder),b.Bb(9),b.nc("ngIf",null==t.foodIngredientList?null:t.foodIngredientList.length)("ngIfElse",e),b.Bb(19),b.nc("ngModel",t.selectedCategory),b.Bb(1),b.nc("ngForOf",t.categoryList),b.Bb(7),b.nc("ngModel",t.selectedIngredient),b.Bb(1),b.nc("ngForOf",t.ingredientList),b.Bb(7),b.nc("ngModel",t.selectedUnit),b.Bb(1),b.nc("ngForOf",t.unitList),b.Bb(3),b.nc("ngModel",t.quantity),b.Bb(3),b.nc("disabled",!i.valid),b.Bb(6),b.nc("ngIf",t.detail)}},directives:[n.k,l.s,l.h,l.i,l.p,l.o,l.g,l.j,n.j,l.b,l.k,l.r],pipes:[n.q],styles:[""]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=b.Mb({type:e}),e.\u0275inj=b.Lb({factory:function(t){return new(t||e)},imports:[[d.i.forChild(C)],d.i]}),e})();var S=i("wloI");i.d(t,"FoodIngredientModule",(function(){return B}));let B=(()=>{class e{}return e.\u0275mod=b.Mb({type:e}),e.\u0275inj=b.Lb({factory:function(t){return new(t||e)},imports:[[n.b,l.c,S.a,M]]}),e})()}}]);