function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var i=t[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{SKnJ:function(e,t,c){"use strict";c.r(t);var i=c("ofXK"),n=c("tyNb"),o=c("PSD3"),r=c.n(o),a=c("fXoL"),s=c("pVIR"),l=c("AXIP"),d=c("3Pt+"),u=c("oOf3"),g=["closeEditModal"],f=["closeAddModal"];function b(e,t){if(1&e&&(a.cc(0,"tr"),a.cc(1,"td"),a.cc(2,"B"),a.Mc(3),a.pc(4,"titlecase"),a.bc(),a.bc(),a.cc(5,"td"),a.Mc(6),a.bc(),a.cc(7,"td"),a.Mc(8),a.bc(),a.cc(9,"td"),a.Mc(10),a.bc(),a.bc()),2&e){var c=t.$implicit;a.Jb(3),a.Nc(a.qc(4,4,c.name)),a.Jb(3),a.Nc(c.category),a.Jb(2),a.Nc(c.unit),a.Jb(2),a.Nc(c.stock?c.stock:"NA")}}var h=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function p(e,t){if(1&e&&(a.cc(0,"tbody"),a.Kc(1,b,11,6,"tr",20),a.pc(2,"paginate"),a.bc()),2&e){var c=a.oc();a.Jb(1),a.vc("ngForOf",a.rc(2,1,c.ingredientList,a.Ac(4,h,c.selectedPerPage,c.currentpage,c.total)))}}function v(e,t){if(1&e&&(a.cc(0,"tbody"),a.cc(1,"tr"),a.cc(2,"td",21),a.Mc(3),a.bc(),a.bc(),a.bc()),2&e){var c=a.oc();a.Jb(3),a.Nc(c.response)}}var m,k,y=[{path:"",component:(m=function(){function e(t,c,i){var n=this;_classCallCheck(this,e),this.router=t,this.foodService=c,this.ui=i,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.ingredientList=[],this.unitList=[],this.categoryList=[],this.selectedPerPage=10,this.currentpage=1,this.getAllUnit=function(){n.foodService.getUnitList().subscribe((function(e){e.data&&(n.unitList=e.data)}),(function(e){console.log(e)}))},this.getAllCategory=function(){n.foodService.getIngredientCategoryList(500,1).subscribe((function(e){e.data&&(n.categoryList=e.data.result)}),(function(e){console.log(e)}))},this.getIngredientList=function(e){n.ui.loader.show(),e&&(n.currentpage=e),n.foodService.getIngredientList(n.selectedPerPage,n.currentpage).subscribe((function(e){e.data&&(n.ingredientList=e.data.result,n.total=e.data.total),n.ui.loader.hide()}),(function(e){n.ui.loader.hide(),console.log(e)}))},this.onLimitSelect=function(e){n.selectedPerPage=e,n.getIngredientList()},this.resetStock=function(){n.ui.loader.show(),n.foodService.resetStock().subscribe((function(e){n.ui.loader.hide(),n.getIngredientList()}),(function(e){n.ui.loader.hide()}))},this.getIngredientDetail=function(e){n.foodService.getSingleIngredient(e).subscribe((function(e){e.data&&(n.detail=e.data,console.log(n.detail))}))},this.deleteIngredient=function(e,t){r.a.fire({title:"Do you want to delete this Ingredient?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then((function(c){c.isConfirmed&&(n.ui.loader.show(),n.foodService.deleteIngredient(t).subscribe((function(t){r.a.fire({icon:"success",title:"Ingredient Deleted Successfully",showConfirmButton:!1,timer:1500}),n.ingredientList.splice(e,1),n.ui.loader.hide()}),(function(e){return n.ui.loader.hide()})))}))},this.addIngredient=function(){n.ui.loader.show(),n.foodService.createIngredient({category_id:n.selectedCategory,unit_id:n.selectedUnit,name:n.ingredientName}).subscribe((function(e){n.closeAddModal.nativeElement.click(),n.ingredientName="",n.selectedUnit="",n.selectedCategory="",r.a.fire({icon:"success",title:"Ingredient Created Successfully",showConfirmButton:!1,timer:1500}),n.getIngredientList(),n.ui.loader.hide()}),(function(e){return n.ui.loader.hide()}))},this.editIngredient=function(e){n.ui.loader.show(),delete n.detail.validationToken,delete n.detail.createdOn,delete n.detail.ingredient_id,n.foodService.updateIngredient(e,n.detail).subscribe((function(e){n.closeEditModal.nativeElement.click(),n.detail={},n.ui.loader.hide(),n.getIngredientList()}),(function(e){n.ui.loader.hide()}))},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),n.router.navigate(["/login"])}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllCategory(),this.getAllUnit(),this.getIngredientList()}},{key:"changeOrder",value:function(e){var t=this;this.sortOrder=!this.sortOrder,this.field=e,this.ingredientList.sort((function(c,i){return t.sortOrder?i[e].localeCompare(c[e]):c[e].localeCompare(i[e])}))}},{key:"getSelectedCategory",value:function(e){console.log(e)}},{key:"getSelectedUnit",value:function(e){console.log(e)}},{key:"editStatus",value:function(e){this.detail.status=e,console.log(this.status)}}]),e}(),m.\u0275fac=function(e){return new(e||m)(a.Wb(n.e),a.Wb(s.a),a.Wb(l.a))},m.\u0275cmp=a.Qb({type:m,selectors:[["app-stock-list"]],viewQuery:function(e,t){var c;1&e&&(a.Rc(g,!0),a.Rc(f,!0)),2&e&&(a.Cc(c=a.lc())&&(t.closeEditModal=c.first),a.Cc(c=a.lc())&&(t.closeAddModal=c.first))},decls:38,vars:7,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],[1,"shortcut-btn","d-block","w-100",3,"click"],[1,"offset-md-7","col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],[4,"ngFor","ngForOf"],["colspan","100%",1,"text-center"]],template:function(e,t){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.cc(2,"div",2),a.cc(3,"div",3),a.cc(4,"button",4),a.kc("click",(function(){return t.resetStock()})),a.cc(5,"b"),a.Mc(6,"Reset Stock"),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(7,"div",5),a.cc(8,"div",3),a.Mc(9," SELECT PER PAGE "),a.cc(10,"select",6),a.kc("ngModelChange",(function(e){return t.selectedPerPage=e}))("change",(function(e){return t.onLimitSelect(e.target.value)})),a.cc(11,"option",7),a.Mc(12,"10"),a.bc(),a.cc(13,"option",8),a.Mc(14,"25"),a.bc(),a.cc(15,"option",9),a.Mc(16,"50"),a.bc(),a.cc(17,"option",10),a.Mc(18,"100"),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(19,"div",11),a.cc(20,"div",12),a.cc(21,"table",13),a.cc(22,"thead"),a.cc(23,"tr"),a.cc(24,"th",14),a.Mc(25,"Ingredients Name"),a.cc(26,"a",15),a.kc("click",(function(){return t.changeOrder("name")})),a.Xb(27,"i",16),a.bc(),a.bc(),a.cc(28,"th",14),a.Mc(29,"Category"),a.bc(),a.cc(30,"th",14),a.Mc(31,"Unit"),a.bc(),a.cc(32,"th",14),a.Mc(33,"Stock"),a.bc(),a.bc(),a.bc(),a.Kc(34,p,3,8,"tbody",17),a.Kc(35,v,4,1,"ng-template",null,18,a.Lc),a.bc(),a.cc(37,"pagination-controls",19),a.kc("pageChange",(function(e){return t.getIngredientList(e)})),a.bc(),a.bc(),a.bc(),a.bc(),a.bc()),2&e){var c=a.Dc(36);a.Jb(10),a.vc("ngModel",t.selectedPerPage),a.Jb(17),a.Nb("fa-caret-down",!t.sortOrder)("fa-caret-up",t.sortOrder),a.Jb(7),a.vc("ngIf",null==t.ingredientList?null:t.ingredientList.length)("ngIfElse",c)}},directives:[d.p,d.g,d.j,d.k,d.r,i.l,u.c,i.k],pipes:[u.b,i.r],styles:[""]}),m)}],C=((k=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:k}),k.\u0275inj=a.Tb({factory:function(e){return new(e||k)},imports:[[n.i.forChild(y)],n.i]}),k),I=c("wloI");c.d(t,"StockListModule",(function(){return L}));var S,L=((S=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:S}),S.\u0275inj=a.Tb({factory:function(e){return new(e||S)},imports:[[i.b,C,d.c,I.a,u.a]]}),S)}}]);