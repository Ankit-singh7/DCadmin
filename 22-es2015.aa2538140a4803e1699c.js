(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{SKnJ:function(t,e,i){"use strict";i.r(e);var c=i("ofXK"),s=i("tyNb"),n=i("PSD3"),o=i.n(n),r=i("fXoL"),a=i("pVIR"),d=i("AXIP"),l=i("3Pt+"),g=i("oOf3");const h=["closeEditModal"],u=["closeAddModal"];function b(t,e){if(1&t&&(r.cc(0,"tr"),r.cc(1,"td"),r.cc(2,"B"),r.Mc(3),r.pc(4,"titlecase"),r.bc(),r.bc(),r.cc(5,"td"),r.Mc(6),r.bc(),r.cc(7,"td"),r.Mc(8),r.bc(),r.cc(9,"td"),r.Mc(10),r.bc(),r.bc()),2&t){const t=e.$implicit;r.Jb(3),r.Nc(r.qc(4,4,t.name)),r.Jb(3),r.Nc(t.category),r.Jb(2),r.Nc(t.unit),r.Jb(2),r.Nc(t.stock?t.stock:"NA")}}const f=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};function p(t,e){if(1&t&&(r.cc(0,"tbody"),r.Kc(1,b,11,6,"tr",18),r.pc(2,"paginate"),r.bc()),2&t){const t=r.oc();r.Jb(1),r.vc("ngForOf",r.rc(2,1,t.ingredientList,r.Ac(4,f,t.selectedPerPage,t.currentpage,t.total)))}}function m(t,e){if(1&t&&(r.cc(0,"tbody"),r.cc(1,"tr"),r.cc(2,"td",19),r.Mc(3),r.bc(),r.bc(),r.bc()),2&t){const t=r.oc();r.Jb(3),r.Nc(t.response)}}const v=[{path:"",component:(()=>{class t{constructor(t,e,i){this.router=t,this.foodService=e,this.ui=i,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.ingredientList=[],this.unitList=[],this.categoryList=[],this.selectedPerPage=10,this.currentpage=1,this.getAllUnit=()=>{this.foodService.getUnitList().subscribe(t=>{t.data&&(this.unitList=t.data)},t=>{console.log(t)})},this.getAllCategory=()=>{this.foodService.getIngredientCategoryList(500,1).subscribe(t=>{t.data&&(this.categoryList=t.data.result)},t=>{console.log(t)})},this.getIngredientList=t=>{this.ui.loader.show(),t&&(this.currentpage=t),this.foodService.getIngredientList(this.selectedPerPage,this.currentpage).subscribe(t=>{t.data&&(this.ingredientList=t.data.result,this.total=t.data.total),this.ui.loader.hide()},t=>{this.ui.loader.hide(),console.log(t)})},this.onLimitSelect=t=>{this.selectedPerPage=t,this.getIngredientList()},this.getIngredientDetail=t=>{this.foodService.getSingleIngredient(t).subscribe(t=>{t.data&&(this.detail=t.data,console.log(this.detail))})},this.deleteIngredient=(t,e)=>{o.a.fire({title:"Do you want to delete this Ingredient?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(i=>{i.isConfirmed&&(this.ui.loader.show(),this.foodService.deleteIngredient(e).subscribe(e=>{o.a.fire({icon:"success",title:"Ingredient Deleted Successfully",showConfirmButton:!1,timer:1500}),this.ingredientList.splice(t,1),this.ui.loader.hide()},t=>this.ui.loader.hide()))})},this.addIngredient=()=>{this.ui.loader.show(),this.foodService.createIngredient({category_id:this.selectedCategory,unit_id:this.selectedUnit,name:this.ingredientName}).subscribe(t=>{this.closeAddModal.nativeElement.click(),this.ingredientName="",this.selectedUnit="",this.selectedCategory="",o.a.fire({icon:"success",title:"Ingredient Created Successfully",showConfirmButton:!1,timer:1500}),this.getIngredientList(),this.ui.loader.hide()},t=>this.ui.loader.hide())},this.editIngredient=t=>{this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,delete this.detail.ingredient_id,this.foodService.updateIngredient(t,this.detail).subscribe(t=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getIngredientList()},t=>{this.ui.loader.hide()})},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getAllCategory(),this.getAllUnit(),this.getIngredientList()}changeOrder(t){this.sortOrder=!this.sortOrder,this.field=t,this.ingredientList.sort((e,i)=>this.sortOrder?i[t].localeCompare(e[t]):e[t].localeCompare(i[t]))}getSelectedCategory(t){console.log(t)}getSelectedUnit(t){console.log(t)}editStatus(t){this.detail.status=t,console.log(this.status)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(s.e),r.Wb(a.a),r.Wb(d.a))},t.\u0275cmp=r.Qb({type:t,selectors:[["app-stock-list"]],viewQuery:function(t,e){var i;1&t&&(r.Rc(h,!0),r.Rc(u,!0)),2&t&&(r.Cc(i=r.lc())&&(e.closeEditModal=i.first),r.Cc(i=r.lc())&&(e.closeAddModal=i.first))},decls:33,vars:7,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"offset-md-10","col-sm-12","col-md-2"],[1,"form-group"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],[4,"ngFor","ngForOf"],["colspan","100%",1,"text-center"]],template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.cc(1,"div",1),r.cc(2,"div",2),r.cc(3,"div",3),r.Mc(4," SELECT PER PAGE "),r.cc(5,"select",4),r.kc("ngModelChange",(function(t){return e.selectedPerPage=t}))("change",(function(t){return e.onLimitSelect(t.target.value)})),r.cc(6,"option",5),r.Mc(7,"10"),r.bc(),r.cc(8,"option",6),r.Mc(9,"25"),r.bc(),r.cc(10,"option",7),r.Mc(11,"50"),r.bc(),r.cc(12,"option",8),r.Mc(13,"100"),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(14,"div",9),r.cc(15,"div",10),r.cc(16,"table",11),r.cc(17,"thead"),r.cc(18,"tr"),r.cc(19,"th",12),r.Mc(20,"Ingredients Name"),r.cc(21,"a",13),r.kc("click",(function(){return e.changeOrder("name")})),r.Xb(22,"i",14),r.bc(),r.bc(),r.cc(23,"th",12),r.Mc(24,"Category"),r.bc(),r.cc(25,"th",12),r.Mc(26,"Unit"),r.bc(),r.cc(27,"th",12),r.Mc(28,"Stock"),r.bc(),r.bc(),r.bc(),r.Kc(29,p,3,8,"tbody",15),r.Kc(30,m,4,1,"ng-template",null,16,r.Lc),r.bc(),r.cc(32,"pagination-controls",17),r.kc("pageChange",(function(t){return e.getIngredientList(t)})),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.Dc(31);r.Jb(5),r.vc("ngModel",e.selectedPerPage),r.Jb(17),r.Nb("fa-caret-down",!e.sortOrder)("fa-caret-up",e.sortOrder),r.Jb(7),r.vc("ngIf",null==e.ingredientList?null:e.ingredientList.length)("ngIfElse",t)}},directives:[l.p,l.g,l.j,l.k,l.r,c.l,g.c,c.k],pipes:[g.b,c.r],styles:[""]}),t})()}];let I=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(v)],s.i]}),t})();var L=i("wloI");i.d(e,"StockListModule",(function(){return y}));let y=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[c.b,I,l.c,L.a,g.a]]}),t})()}}]);