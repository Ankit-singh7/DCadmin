(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{r2I4:function(e,t,i){"use strict";i.r(t);var o=i("ofXK"),a=i("3Pt+"),n=i("tyNb"),l=i("PSD3"),s=i.n(l),c=i("fXoL"),d=i("AytR"),b=i("tk/3");let r=(()=>{class e{constructor(e){this.http=e}getEmployeeList(){return this.http.get(`${d.a.apiURL}/users/view/all`)}addEmployee(e){return this.http.post(`${d.a.apiURL}/users/signup`,e)}deleteEmployee(e){return this.http.get(`${d.a.apiURL}/users/${e}/delete`)}getEmployeeDetail(e){return this.http.get(`${d.a.apiURL}/users/${e}/details`)}editEmployeeDetail(e,t){return this.http.put(`${d.a.apiURL}/users/${e}/edit`,t)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(b.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i("AXIP");const m=["closeEditModal"];function p(e,t){if(1&e){const e=c.Vb();c.Ub(0,"tr"),c.Ub(1,"td"),c.Ub(2,"B"),c.Ec(3),c.hc(4,"titlecase"),c.hc(5,"titlecase"),c.Tb(),c.Tb(),c.Ub(6,"td"),c.Ec(7),c.Tb(),c.Ub(8,"td"),c.Ec(9),c.Tb(),c.Ub(10,"td"),c.Ec(11),c.Tb(),c.Ub(12,"td"),c.Ec(13),c.hc(14,"titlecase"),c.Tb(),c.Ub(15,"td"),c.Ub(16,"button",40),c.cc("click",(function(){c.xc(e);const i=t.$implicit;return c.gc(2).getEmployeeDetail(i.userId)})),c.Pb(17,"i",41),c.Tb(),c.Ub(18,"button",42),c.cc("click",(function(){c.xc(e);const i=t.index,o=t.$implicit;return c.gc(2).deleteEmployee(i,o.userId)})),c.Pb(19,"i",43),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Bb(3),c.Hc("",c.ic(4,6,e.firstName)," ",c.ic(5,8,e.lastName),""),c.Bb(4),c.Fc(e.mobileNumber),c.Bb(2),c.Fc(e.email),c.Bb(2),c.Fc(e.password),c.Bb(2),c.Fc(c.ic(14,10,e.status))}}function h(e,t){if(1&e&&(c.Ub(0,"tbody"),c.Cc(1,p,20,12,"tr",39),c.Tb()),2&e){const e=c.gc();c.Bb(1),c.nc("ngForOf",e.employeeList)}}function g(e,t){if(1&e&&(c.Ub(0,"tbody"),c.Ub(1,"tr"),c.Ub(2,"td",44),c.Ec(3),c.Tb(),c.Tb(),c.Tb()),2&e){const e=c.gc();c.Bb(3),c.Fc(e.response)}}function f(e,t){if(1&e){const e=c.Vb();c.Ub(0,"form",45,46),c.Ub(2,"div",18),c.Ub(3,"div",19),c.Ub(4,"h5"),c.Ec(5,"Edit Employee Detail"),c.Tb(),c.Tb(),c.Ub(6,"div",20),c.Ub(7,"div",21),c.Ub(8,"input",47),c.cc("ngModelChange",(function(t){return c.xc(e),c.gc().detail.firstName=t})),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"div",23),c.Ub(10,"div",21),c.Ub(11,"input",48),c.cc("ngModelChange",(function(t){return c.xc(e),c.gc().detail.lastName=t})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"div",18),c.Ub(13,"div",20),c.Ub(14,"div",21),c.Ub(15,"input",25),c.cc("ngModelChange",(function(t){return c.xc(e),c.gc().detail.email=t})),c.Tb(),c.Tb(),c.Tb(),c.Ub(16,"div",23),c.Ub(17,"div",21),c.Ub(18,"input",49),c.cc("ngModelChange",(function(t){return c.xc(e),c.gc().detail.mobileNumber=t})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(19,"div",18),c.Ub(20,"div",20),c.Ub(21,"div",21),c.Ub(22,"input",50),c.cc("ngModelChange",(function(t){return c.xc(e),c.gc().detail.password=t})),c.Tb(),c.Tb(),c.Tb(),c.Ub(23,"div",23),c.Ub(24,"div",21),c.Ub(25,"div",28),c.Ub(26,"div",29),c.Ub(27,"label",30),c.Ec(28,"Status"),c.Tb(),c.Tb(),c.Ub(29,"select",51),c.cc("ngModelChange",(function(t){return c.xc(e),c.gc().detail.status=t}))("change",(function(t){return c.xc(e),c.gc().editStatus(t.target.value)})),c.Ub(30,"option",52),c.Ec(31,"Active"),c.Tb(),c.Ub(32,"option",53),c.Ec(33,"Inactive"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(34,"div",18),c.Ub(35,"div",34),c.Ub(36,"button",35),c.cc("click",(function(){c.xc(e);const t=c.gc();return t.editEmployee(t.detail.userId)})),c.Ec(37,"EDIT"),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=c.vc(1),t=c.gc();c.Bb(8),c.nc("ngModel",t.detail.firstName),c.Bb(3),c.nc("ngModel",t.detail.lastName),c.Bb(4),c.nc("ngModel",t.detail.email),c.Bb(3),c.nc("ngModel",t.detail.mobileNumber),c.Bb(4),c.nc("ngModel",t.detail.password),c.Bb(7),c.nc("ngModel",t.detail.status),c.Bb(1),c.nc("selected","Active"===t.detail.status),c.Bb(2),c.nc("selected","Inactive"===t.detail.status),c.Bb(4),c.nc("disabled",!e.valid)}}const U=[{path:"",component:(()=>{class e{constructor(e,t,i){this.router=e,this.employeeService=t,this.ui=i,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.employeeList=[],this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getEmployeesList()}addStatus(e){this.status=e,console.log(this.status)}editStatus(e){this.detail.status=e,console.log(this.status)}getEmployeesList(){this.ui.loader.show(),this.employeeService.getEmployeeList().subscribe(e=>{e.data&&(this.employeeList=e.data),this.ui.loader.hide()},e=>this.ui.loader.hide())}addEmployee(){this.ui.loader.show();const e={firstName:this.firstName,lastName:this.lastName,mobileNumber:this.phone,email:this.email,password:this.password,status:this.status};this.employeeList.push(e),this.employeeService.addEmployee(e).subscribe(e=>{this.firstName="",this.lastName="",this.phone="",this.email="",this.password="",this.status="",s.a.fire({icon:"success",title:"User Created Successfully",showConfirmButton:!1,timer:1500}),this.ui.loader.hide()},e=>this.ui.loader.hide())}changeOrder(e){this.sortOrder=!this.sortOrder,this.field=e,this.employeeList.sort((t,i)=>this.sortOrder?i[e].localeCompare(t[e]):t[e].localeCompare(i[e]))}deleteEmployee(e,t){s.a.fire({title:"Do you want to delete this User?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(i=>{i.isConfirmed&&(this.ui.loader.show(),this.employeeService.deleteEmployee(t).subscribe(t=>{s.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),this.employeeList.splice(e,1),this.ui.loader.hide()},e=>this.ui.loader.hide()))})}getEmployeeDetail(e){this.employeeService.getEmployeeDetail(e).subscribe(e=>{e.data&&(this.detail=e.data)})}editEmployee(e){this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.employeeService.editEmployeeDetail(e,this.detail).subscribe(e=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getEmployeesList()},e=>{this.ui.loader.hide()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(n.e),c.Ob(r),c.Ob(u.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-employee"]],viewQuery:function(e,t){var i;1&e&&c.Jc(m,!0),2&e&&c.uc(i=c.dc())&&(t.closeEditModal=i.first)},decls:75,vars:14,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active"],["value","Inactive"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat2",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active",3,"selected"],["value","Inactive",3,"selected"]],template:function(e,t){if(1&e&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"button",4),c.Ub(5,"b"),c.Ec(6,"+ Add Waiter/Employee"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(7,"div",5),c.Ub(8,"div",6),c.Ub(9,"table",7),c.Ub(10,"thead"),c.Ub(11,"tr"),c.Ub(12,"th",8),c.Ec(13,"Name"),c.Ub(14,"a",9),c.cc("click",(function(){return t.changeOrder("firstName")})),c.Pb(15,"i",10),c.Tb(),c.Tb(),c.Ub(16,"th",8),c.Ec(17,"Phone"),c.Tb(),c.Ub(18,"th",8),c.Ec(19,"User Name"),c.Tb(),c.Ub(20,"th",8),c.Ec(21,"Password"),c.Tb(),c.Ub(22,"th",8),c.Ec(23,"Status"),c.Tb(),c.Ub(24,"th",8),c.Ec(25,"Action"),c.Tb(),c.Tb(),c.Tb(),c.Cc(26,h,2,1,"tbody",11),c.Cc(27,g,4,1,"ng-template",null,12,c.Dc),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(29,"div",13),c.Ub(30,"div",14),c.Ub(31,"div",15),c.Ub(32,"form",16,17),c.Ub(34,"div",18),c.Ub(35,"div",19),c.Ub(36,"h5"),c.Ec(37,"Add an Employee"),c.Tb(),c.Tb(),c.Ub(38,"div",20),c.Ub(39,"div",21),c.Ub(40,"input",22),c.cc("ngModelChange",(function(e){return t.firstName=e})),c.Tb(),c.Tb(),c.Tb(),c.Ub(41,"div",23),c.Ub(42,"div",21),c.Ub(43,"input",24),c.cc("ngModelChange",(function(e){return t.lastName=e})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(44,"div",18),c.Ub(45,"div",20),c.Ub(46,"div",21),c.Ub(47,"input",25),c.cc("ngModelChange",(function(e){return t.email=e})),c.Tb(),c.Tb(),c.Tb(),c.Ub(48,"div",23),c.Ub(49,"div",21),c.Ub(50,"input",26),c.cc("ngModelChange",(function(e){return t.password=e})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(51,"div",18),c.Ub(52,"div",20),c.Ub(53,"div",21),c.Ub(54,"input",27),c.cc("ngModelChange",(function(e){return t.phone=e})),c.Tb(),c.Tb(),c.Tb(),c.Ub(55,"div",23),c.Ub(56,"div",21),c.Ub(57,"div",28),c.Ub(58,"div",29),c.Ub(59,"label",30),c.Ec(60,"Status"),c.Tb(),c.Tb(),c.Ub(61,"select",31),c.cc("ngModelChange",(function(e){return t.status=e}))("change",(function(e){return t.addStatus(e.target.value)})),c.Ub(62,"option",32),c.Ec(63,"Active"),c.Tb(),c.Ub(64,"option",33),c.Ec(65,"Inactive"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(66,"div",18),c.Ub(67,"div",34),c.Ub(68,"button",35),c.cc("click",(function(){return t.addEmployee()})),c.Ec(69,"SUBMIT"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(70,"div",36,37),c.Ub(72,"div",14),c.Ub(73,"div",15),c.Cc(74,f,38,9,"form",38),c.Tb(),c.Tb(),c.Tb()),2&e){const e=c.vc(28),i=c.vc(33);c.Bb(15),c.Fb("fa-caret-down",!t.sortOrder)("fa-caret-up",t.sortOrder),c.Bb(11),c.nc("ngIf",null==t.employeeList?null:t.employeeList.length)("ngIfElse",e),c.Bb(14),c.nc("ngModel",t.firstName),c.Bb(3),c.nc("ngModel",t.lastName),c.Bb(4),c.nc("ngModel",t.email),c.Bb(3),c.nc("ngModel",t.password),c.Bb(4),c.nc("ngModel",t.phone),c.Bb(7),c.nc("ngModel",t.status),c.Bb(7),c.nc("disabled",!i.valid),c.Bb(6),c.nc("ngIf",t.detail)}},directives:[o.k,a.s,a.h,a.i,a.b,a.o,a.g,a.j,a.p,a.k,a.r,o.j],pipes:[o.q],styles:[""]}),e})()}];let T=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[n.i.forChild(U)],n.i]}),e})();var v=i("wloI"),y=i("ZOsW");i.d(t,"EmployeeModule",(function(){return E}));let E=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},providers:[r],imports:[[o.b,T,a.c,y.a,v.a]]}),e})()}}]);