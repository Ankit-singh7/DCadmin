function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,o,r){return o&&_defineProperties(e.prototype,o),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"P+7w":function(e,o,r){"use strict";r.r(o);var t=r("ofXK"),c=r("3Pt+"),i=r("tyNb"),a=r("fXoL"),n=r("AXIP"),s=r("rwBg");function l(e,o){if(1&e&&(a.cc(0,"div",25),a.cc(1,"div",26),a.Mc(2),a.bc(),a.bc()),2&e){var r=a.oc();a.Jb(2),a.Oc(" ",r.message," ")}}var m,d,b=[{path:"",component:(m=function(){function e(o,r,t,c){_classCallCheck(this,e),this.router=o,this.route=r,this.ui=t,this.userService=c,this.rememberMe="false",this.showPassword=!1,this.inputType="password",this.loginError=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.remember()}},{key:"login",value:function(){var e=this;this.ui.loader.show(),this.userService.login({email:this.email,password:this.password}).subscribe((function(o){e.userService.setRole(o.data.role),e.loginError=!1,localStorage.setItem("token",o.data.authToken),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("name","".concat(o.data.firstName," ").concat(o.data.lastName)),e.rememberMe?(localStorage.setItem("email",e.email),localStorage.setItem("password",e.password),localStorage.setItem("rememberMe",String(e.rememberMe))):(e.email="",e.password="",localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.setItem("rememberMe",String(e.rememberMe))),e.userService.getRole().subscribe((function(o){console.log(o),"admin"===o?(e.router.navigate(["/user/employee"]),window.location.reload()):"operator"===o&&(e.router.navigate(["/user/billing"]),window.location.reload())})),e.ui.loader.hide()}),(function(o){e.ui.loader.hide(),e.loginError=!0,e.message=o.error.message}))}},{key:"remember",value:function(){"true"===localStorage.getItem("rememberMe")?(this.cookieRem=Boolean(localStorage.getItem("rememberMe")),this.cookiePass=localStorage.getItem("password"),this.cookieMail=localStorage.getItem("email"),this.router.navigate(["/login"])&&(this.rememberMe=this.cookieRem,this.email=this.cookieMail,this.password=this.cookiePass)):"false"===localStorage.getItem("rememberMe")&&(this.cookieRem=!1,this.email="",this.password="")}}]),e}(),m.\u0275fac=function(e){return new(e||m)(a.Wb(i.e),a.Wb(i.a),a.Wb(n.a),a.Wb(s.a))},m.\u0275cmp=a.Qb({type:m,selectors:[["app-login"]],decls:35,vars:5,consts:[[1,"container-fluid","position-relative",2,"height","100vh"],[1,"row"],[1,"login-box",2,"margin-top","7%"],[1,"col-xl-4","offset-xl-4","col-md-6","offset-md-3"],[1,"p-2"],[2,"text-align","center"],[1,"fas","fa-heart",2,"color","red"],[2,"color","red"],["id","loginForm","role","form"],["loginForm","ngForm"],["class","group animated fadeIn",4,"ngIf"],[1,"form-group","position-relative"],["type","text","placeholder","USERNAME","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"user-icon"],["type","password","placeholder","PASSWORD","name","password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"pass-icon"],[1,"form-group"],[1,"col"],[1,"chk-holder"],["type","checkbox","id","ossm","name","rememberMe",1,"chkmrk",3,"ngModel","ngModelChange"],["for","ossm",1,"text-uppercase"],[1,"checkmark"],["type","submit",1,"btn","btn-success","log-btn","w-100",3,"disabled","click"],[1,"clearfix"],[1,"col-lg-10","offset-lg-1","mt-5"],[1,"group","animated","fadeIn"],[1,"alert","alert-danger","text-center"]],template:function(e,o){if(1&e&&(a.cc(0,"div",0),a.cc(1,"div",1),a.cc(2,"div",2),a.cc(3,"div",3),a.cc(4,"div",4),a.cc(5,"h2",5),a.cc(6,"B"),a.Xb(7,"i",6),a.Mc(8,"\xa0"),a.cc(9,"span",7),a.Mc(10,"DESI"),a.bc(),a.Mc(11," CHINESE"),a.bc(),a.bc(),a.cc(12,"form",8,9),a.Kc(14,l,3,1,"div",10),a.cc(15,"div",11),a.cc(16,"input",12),a.kc("ngModelChange",(function(e){return o.email=e})),a.bc(),a.Xb(17,"span",13),a.bc(),a.cc(18,"div",11),a.cc(19,"input",14),a.kc("ngModelChange",(function(e){return o.password=e})),a.bc(),a.Xb(20,"span",15),a.bc(),a.cc(21,"div",16),a.cc(22,"div",1),a.cc(23,"div",17),a.cc(24,"div",18),a.cc(25,"input",19),a.kc("ngModelChange",(function(e){return o.rememberMe=e})),a.bc(),a.cc(26,"label",20),a.Mc(27,"Remember Me"),a.bc(),a.Xb(28,"span",21),a.bc(),a.bc(),a.bc(),a.bc(),a.cc(29,"div",16),a.cc(30,"button",22),a.kc("click",(function(){return o.login()})),a.Mc(31,"Login"),a.bc(),a.bc(),a.bc(),a.bc(),a.bc(),a.Xb(32,"div",23),a.Xb(33,"div",24),a.bc(),a.bc(),a.Xb(34,"div",23),a.bc()),2&e){var r=a.Dc(13);a.Jb(14),a.vc("ngIf",o.loginError),a.Jb(2),a.vc("ngModel",o.email),a.Jb(3),a.vc("ngModel",o.password),a.Jb(6),a.vc("ngModel",o.rememberMe),a.Jb(5),a.vc("disabled",!r.valid)}},directives:[c.t,c.i,c.j,t.l,c.b,c.n,c.p,c.h,c.k,c.a],styles:[""]}),m)}],g=((d=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:d}),d.\u0275inj=a.Tb({factory:function(e){return new(e||d)},imports:[[i.i.forChild(b)],i.i]}),d);r.d(o,"LoginModule",(function(){return p}));var u,p=((u=function e(){_classCallCheck(this,e)}).\u0275mod=a.Ub({type:u}),u.\u0275inj=a.Tb({factory:function(e){return new(e||u)},providers:[s.a],imports:[[t.b,g,c.d]]}),u)}}]);