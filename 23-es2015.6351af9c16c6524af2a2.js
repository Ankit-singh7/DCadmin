(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"59uU":function(c,t,e){"use strict";e.r(t);var o=e("ofXK"),i=e("3Pt+"),d=e("tyNb"),n=e("PSD3"),a=e.n(n),r=e("fXoL"),l=e("f4UJ"),s=e("AXIP"),b=e("X+I5");const u=["closeEditModal"],f=["closeAddModal"],h=["branchName"];function p(c,t){if(1&c){const c=r.dc();r.cc(0,"tr"),r.cc(1,"td"),r.cc(2,"B"),r.Mc(3),r.pc(4,"titlecase"),r.bc(),r.bc(),r.cc(5,"td"),r.Mc(6),r.bc(),r.cc(7,"td"),r.Mc(8),r.bc(),r.cc(9,"td"),r.cc(10,"button",41),r.kc("click",(function(){r.Fc(c);const e=t.$implicit;return r.oc(2).getfoodDetail(e.food_id)})),r.Xb(11,"i",42),r.bc(),r.cc(12,"button",43),r.kc("click",(function(){r.Fc(c);const e=t.index,o=t.$implicit;return r.oc(2).deleteFood(e,o.food_id)})),r.Xb(13,"i",44),r.bc(),r.bc(),r.bc()}if(2&c){const c=t.$implicit;r.Jb(3),r.Nc(r.qc(4,3,c.food_name)),r.Jb(3),r.Nc(c.price),r.Jb(2),r.Nc(c.food_type)}}function g(c,t){if(1&c&&(r.cc(0,"tbody"),r.Kc(1,p,14,5,"tr",40),r.pc(2,"filter"),r.bc()),2&c){const c=r.oc();r.Jb(1),r.vc("ngForOf",r.sc(2,1,c.foodList,"food_name",c.bname))}}function m(c,t){if(1&c&&(r.cc(0,"tbody"),r.cc(1,"tr"),r.cc(2,"td",45),r.Mc(3),r.bc(),r.bc(),r.bc()),2&c){const c=r.oc();r.Jb(3),r.Nc(c.response)}}function v(c,t){if(1&c){const c=r.dc();r.ac(0),r.cc(1,"form",19,20),r.cc(3,"div",21),r.cc(4,"div",22),r.cc(5,"h5"),r.Mc(6,"Edit a Food"),r.bc(),r.bc(),r.cc(7,"div",23),r.cc(8,"div",24),r.cc(9,"input",25),r.kc("ngModelChange",(function(t){return r.Fc(c),r.oc().detail.food_name=t})),r.bc(),r.bc(),r.bc(),r.cc(10,"div",23),r.cc(11,"div",24),r.cc(12,"div",26),r.cc(13,"div",27),r.cc(14,"label",28),r.Mc(15,"Food Type"),r.bc(),r.bc(),r.cc(16,"select",29),r.kc("ngModelChange",(function(t){return r.Fc(c),r.oc().detail.food_type=t}))("change",(function(t){return r.Fc(c),r.oc().changeFoodType(t.target.value)})),r.cc(17,"option",30),r.Mc(18,"Breakfast"),r.bc(),r.cc(19,"option",31),r.Mc(20,"Lunch"),r.bc(),r.cc(21,"option",32),r.Mc(22,"Dinner"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(23,"div",21),r.cc(24,"div",33),r.cc(25,"div",24),r.cc(26,"input",34),r.kc("ngModelChange",(function(t){return r.Fc(c),r.oc().detail.price=t})),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(27,"div",21),r.cc(28,"div",35),r.cc(29,"button",36),r.kc("click",(function(){r.Fc(c);const t=r.oc();return t.editFood(t.detail.food_id)})),r.Mc(30,"SUBMIT"),r.bc(),r.bc(),r.bc(),r.bc(),r.Zb()}if(2&c){const c=r.Dc(2),t=r.oc();r.Jb(9),r.vc("ngModel",t.detail.food_name),r.Jb(7),r.vc("ngModel",t.detail.food_type),r.Jb(10),r.vc("ngModel",t.detail.price),r.Jb(3),r.vc("disabled",!c.valid)}}const M=[{path:"",component:(()=>{class c{constructor(c,t,e){this.router=c,this.branchService=t,this.ui=e,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.foodList=[],this.data={food_name:"",price:"",food_type:""},this.hours=[],this.minutes=[],this.bname="",this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getFoodList()}titleCase(c){for(var t=c.toLowerCase().split(" "),e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t}getFoodList(){this.branchService.getFoodList().subscribe(c=>{this.foodList=c.data?c.data:[]})}addFood(){this.ui.loader.show(),this.branchService.addFood(this.data).subscribe(c=>{this.data.food_name="",this.data.price="",this.data.food_type="",a.a.fire({icon:"success",title:"Food Added Successfully",showConfirmButton:!1,timer:1500}),this.getFoodList(),this.closeAddModal.nativeElement.click(),this.ui.loader.hide()},c=>this.ui.loader.hide())}changeOrder(c){this.sortOrder=!this.sortOrder,this.field=c,this.foodList.sort((t,e)=>this.sortOrder?e[c].localeCompare(t[c]):t[c].localeCompare(e[c]))}deleteFood(c,t){a.a.fire({title:"Do you want to delete this Popular Food?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(e=>{e.isConfirmed&&(this.ui.loader.show(),this.branchService.deleteFood(t).subscribe(t=>{a.a.fire({icon:"success",title:"Food Deleted Successfully",showConfirmButton:!1,timer:1500}),this.foodList.splice(c,1),this.ui.loader.hide()},c=>this.ui.loader.hide()))})}getfoodDetail(c){this.branchService.getFoodDetail(c).subscribe(c=>{c.data&&(this.detail=c.data)})}editFood(c){this.ui.loader.show(),this.branchService.editFood(c,this.detail).subscribe(c=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getFoodList()},c=>{this.ui.loader.hide()})}changeFoodType(c){this.data.food_type=c}}return c.\u0275fac=function(t){return new(t||c)(r.Wb(d.e),r.Wb(l.a),r.Wb(s.a))},c.\u0275cmp=r.Qb({type:c,selectors:[["app-popular-food"]],viewQuery:function(c,t){var e;1&c&&(r.Rc(u,!0),r.Rc(f,!0),r.Rc(h,!0)),2&c&&(r.Cc(e=r.lc())&&(t.closeEditModal=e.first),r.Cc(e=r.lc())&&(t.closeAddModal=e.first),r.Cc(e=r.lc())&&(t.branchName=e.first))},decls:68,vars:12,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-7","col-sm-12","col-md-2","cus-srch"],["type","text","id","birthday","placeholder","Search By Food","name","bname",1,"form-control","pl-0",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeAddModal",""],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-11"],[1,"form-group","position-relative"],["type","text","placeholder","Food Name","name","bn","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","","id","inputGroupSelect01","name","slot2338989",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Breakfast"],["value","Lunch"],["value","Dinner"],[1,"offset-md-1","col-sm-12","col-md-10"],["type","text","placeholder","Price","name","gst","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"]],template:function(c,t){if(1&c&&(r.cc(0,"div",0),r.cc(1,"div",1),r.cc(2,"div",2),r.cc(3,"div",3),r.cc(4,"button",4),r.cc(5,"b"),r.Mc(6,"+ Add Popular Food"),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(7,"div",5),r.cc(8,"div",3),r.Mc(9," SEARCH BY FOOD "),r.cc(10,"input",6),r.kc("ngModelChange",(function(c){return t.bname=c})),r.bc(),r.bc(),r.bc(),r.cc(11,"div",7),r.cc(12,"div",8),r.cc(13,"table",9),r.cc(14,"thead"),r.cc(15,"tr"),r.cc(16,"th",10),r.Mc(17,"Food Name"),r.cc(18,"a",11),r.kc("click",(function(){return t.changeOrder("food_name")})),r.Xb(19,"i",12),r.bc(),r.bc(),r.cc(20,"th",10),r.Mc(21,"Price"),r.bc(),r.cc(22,"th",10),r.Mc(23,"Food Type"),r.bc(),r.cc(24,"th",10),r.Mc(25,"Action"),r.bc(),r.bc(),r.bc(),r.Kc(26,g,3,5,"tbody",13),r.Kc(27,m,4,1,"ng-template",null,14,r.Lc),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(29,"div",15,16),r.cc(31,"div",17),r.cc(32,"div",18),r.cc(33,"form",19,20),r.cc(35,"div",21),r.cc(36,"div",22),r.cc(37,"h5"),r.Mc(38,"Add a Food"),r.bc(),r.bc(),r.cc(39,"div",23),r.cc(40,"div",24),r.cc(41,"input",25),r.kc("ngModelChange",(function(c){return t.data.food_name=c})),r.bc(),r.bc(),r.bc(),r.cc(42,"div",23),r.cc(43,"div",24),r.cc(44,"div",26),r.cc(45,"div",27),r.cc(46,"label",28),r.Mc(47,"Food Type"),r.bc(),r.bc(),r.cc(48,"select",29),r.kc("ngModelChange",(function(c){return t.data.food_type=c}))("change",(function(c){return t.changeFoodType(c.target.value)})),r.cc(49,"option",30),r.Mc(50,"Breakfast"),r.bc(),r.cc(51,"option",31),r.Mc(52,"Lunch"),r.bc(),r.cc(53,"option",32),r.Mc(54,"Dinner"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(55,"div",21),r.cc(56,"div",33),r.cc(57,"div",24),r.cc(58,"input",34),r.kc("ngModelChange",(function(c){return t.data.price=c})),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(59,"div",21),r.cc(60,"div",35),r.cc(61,"button",36),r.kc("click",(function(){return t.addFood()})),r.Mc(62,"SUBMIT"),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.bc(),r.cc(63,"div",37,38),r.cc(65,"div",17),r.cc(66,"div",18),r.Kc(67,v,31,4,"ng-container",39),r.bc(),r.bc(),r.bc()),2&c){const c=r.Dc(28),e=r.Dc(34);r.Jb(10),r.vc("ngModel",t.bname),r.Jb(9),r.Nb("fa-caret-down",!t.sortOrder)("fa-caret-up",t.sortOrder),r.Jb(7),r.vc("ngIf",null==t.foodList?null:t.foodList.length)("ngIfElse",c),r.Jb(15),r.vc("ngModel",t.data.food_name),r.Jb(7),r.vc("ngModel",t.data.food_type),r.Jb(10),r.vc("ngModel",t.data.price),r.Jb(3),r.vc("disabled",!e.valid),r.Jb(6),r.vc("ngIf",t.detail)}},directives:[i.b,i.h,i.k,o.l,i.t,i.i,i.j,i.p,i.q,i.l,i.s,o.k],pipes:[b.a,o.r],styles:["div.scrollmenu[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap}div.scrollmenu[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding:14px;text-decoration:none}"]}),c})()}];let F=(()=>{class c{}return c.\u0275mod=r.Ub({type:c}),c.\u0275inj=r.Tb({factory:function(t){return new(t||c)},imports:[[d.i.forChild(M)],d.i]}),c})();var y=e("wloI");e.d(t,"PopularFoodModule",(function(){return k}));let k=(()=>{class c{}return c.\u0275mod=r.Ub({type:c}),c.\u0275inj=r.Tb({factory:function(t){return new(t||c)},imports:[[o.b,F,i.d,i.o,y.a]]}),c})()}}]);